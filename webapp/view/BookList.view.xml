<mvc:View
	controllerName="org.ubb.books.controller.BookList"
   	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m">

   <Table id="idBooksTable"
   		mode="Delete"
        delete="handleDelete"
		items="{
			path: '/BooksSet'
		}"
		growing="true"
		growingThreshold="10">
	
		<headerToolbar>
         <Toolbar>
			<Button 
			    id="addButton" 
				text="{i18n>add}"
				press=".onAddPress"
				class="sapUiSmallMarginEnd"/>
				<ToolbarSpacer/>
			<!-- <DateTimePicker id="date" width='20%' displayFormat="medium" search=".onFilterBooks"/> -->
            <SearchField width="30%" search=".onFilterBooks"/>
         </Toolbar>
      </headerToolbar>

		<columns>
			<Column>
				<Text text="Title" />
			</Column>
			<Column>
				<Text text="Author" />
			</Column>
			<Column>
				<Text text="Published on" />
			</Column>
			<Column>
				<Text text="Language" />
			</Column>
         	<Column>
				<Text text="Available books" />
			</Column>
			<Column>
				<Text text="Total number of books" />
			</Column>
			<Column>
				<Text text="Created by" />
			</Column>
			<Column>
				<Text text="Created on" />
			</Column>
			<Column>
				<Text text="Changed by" />
			</Column>
			<Column>
				<Text text="Changed on" />
			</Column>
			<Column>
				<Text text="Update/Delete" />
			</Column>
		</columns>
		<items>
			<ColumnListItem>
				<cells>
					<ObjectIdentifier
						title="{Title}"
						text="{BookISBN}"/>
					<Text text="{Author}" />
					<Text text="{ 
							path: 'PublishingDate',
							type: 'sap.ui.model.type.DateTime',
							formatOptions: {
    							pattern: 'dd.MM.yyyy'
  							},
  							constraints: {
    							displayFormat: 'Date'
  							}
               			}" 
					/>
					<Text text="{Language}" />
					<Text text="{= parseInt(${Available}) }" />
					<Text text="{= parseInt(${TotalNumber}) }" />
					<Text text="{CreatedBy}" />
					<Text text="{
							path: 'CreatedOn',
							type: 'sap.ui.model.type.DateTime',
							formatOptions: {
    							pattern: 'dd.MM.yyyy'
  							},
  							constraints: {
    							displayFormat: 'Date'
  							}
					}" />
					<Text text="{ChangedBy}" />
					<Text text="{
						path: 'ChangedOn',
							type: 'sap.ui.model.type.DateTime',
							formatOptions: {
    							pattern: 'dd.MM.yyyy'
  							},
  							constraints: {
    							displayFormat: 'Date'
  							}
					}" />
					<HBox>
						<Button icon="sap-icon://edit" press="handleEdit"></Button>
					</HBox>
				</cells>
			</ColumnListItem>
		</items>
	</Table>
   
</mvc:View>